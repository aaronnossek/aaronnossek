$(window).on("load",function(){gsap.timeline().to($(".loading_wrapper"),{opacity:0}).to($(".loading_wrapper"),{duration:0,display:"none"}).from($(".content-container"),{autoAlpha:0}).from($(".content-container > *"),{stagger:.1,opacity:0},"<")});var customPage=!1,customPageLocation=location.href.replace(/(\?.*)$/,"").split("/").slice(3);if(console.log(customPageLocation[1]),"survey"===customPageLocation[1]&&(customPage=!0),!customPage){gsap.registerPlugin(ScrollTrigger,ScrollSmoother,DrawSVGPlugin,TextPlugin,SplitText,Flip),CustomEase.create("custom","M0,0,C0.014,0.284,0.032,0.508,0.086,0.702,0.145,0.915,0.333,0.964,0.544,0.98,0.822,1,0.902,1,1,1"),ScrollTrigger.config({ignoreMobileResize:!0});var e=gsap.timeline({defaults:{duration:1,ease:"expo.inOut"}}).reversed(!0);function t(){$("a").each(function(){"link"===$(this).attr("href").split("/")[1]&&$(this).attr("target","_blank")})}$(".w-richtext-figure-type-image div").children().wrap("<a></a>"),$(".w-richtext-figure-type-image a").children().wrap("<div class='img-wrapper'></div>"),$(".w-richtext-figure-type-image a, .image-link").each(function(e){$(this).attr({"data-fancybox":"gallery",href:$(this).find("img").attr("src"),"data-thumb":$(this).find("img").attr("src"),"data-caption":$(this).find("img").attr("alt")})}),Fancybox.bind('[data-fancybox="gallery"]',{Toolbar:{display:["fullscreen","close"]},placeFocusBack:!1,Image:{zoom:!1}}),document.addEventListener("click",function(){$("a").filter(function(){return this.hostname&&this.hostname!==location.hostname}).attr("target","_blank")}),t(),$(document).on("click touch",function(){t()}),$("figure img, .img-wrapper img").attr("loading","eager");let a=parseInt($(".footer_copyright-date").text()),r=new Date().getFullYear();r>a&&(a=a+"-"+r),$(".footer_copyright-date").text(a);var i=gsap.timeline({});$(".menu_item").on("mouseenter",function(){var e="";switch($(this).text()){case"Home":e="Start";break;case"Work":e="Output";break;case"Ideas":e="Diesdas";break;case"About":e="Aaron";break;case"Contact":e="----me?";break;default:e="????"}i.to($(this),{stagger:{each:5,ease:"power2.in",from:"random"},scrambleText:{text:e,chars:"o#a€u97",speed:.001}})}),$(".menu_item").on("mouseleave",function(){i.seek(0),i.clear()}),$(".w-richtext h6").each(function(){$(this).nextUntil("h6, figure, h2, h3, h4, h5").add(this).wrapAll('<div class="definition_item" style="break-inside: avoid-column;">'),$(this).wrap('<span class="definition">').contents().unwrap()}),$(window).on("load",function(){let t=gsap.matchMedia();t.add("(max-width: 991px)",()=>{e.to(".menu_background",{height:"100%"}).fromTo(".menu_list",{display:"none"},{display:"flex",duration:0},0).from(".menu_list",{opacity:0,duration:1},0).to(".menu_button",{stagger:{each:50},scrambleText:{text:"Schlie\xdfen",chars:"o#a€u97",speed:.1}},0).fromTo(".menu_logo-full, .menu_close",{y:"100%",opacity:0},{y:"0%",opacity:100,duration:1},0).fromTo(".menu_item",{y:"100%"},{y:"0%",stagger:.08},0).fromTo(".menu_item",{opacity:0},{opacity:100,stagger:.07,ease:"power1.inout"},.2),$(".menu_button, .menu_close").on("click",function(){e.reversed(!e.reversed())})}),t.add("(min-width: 992px)",()=>{let e=ScrollSmoother.create({smooth:.8,effects:!0,ease:"custom",normalizeScroll:!0,smoothTouch:!1,onUpdate(e){a(e.getVelocity()/40),r(e.getVelocity()/60),i(e.getVelocity()/40)}}),t=$("img").closest("figure");gsap.utils.toArray(t).forEach((t,a)=>{e.effects(t,{lag:.05+a%2*.1})}),e.effects("img",{lag:.05}),e.effects("figure img",{lag:0}),e.effects(".content-richtext.project img",{speed:"auto"});gsap.utils.toArray(".image-gallery-wrapper img").forEach((t,a)=>{e.effects(t,{lag:.1+a%5*.05})}),e.effects(".breadcrumb_wrapper",{lag:.25}),e.effects("h1, .work_info",{lag:.15}),e.effects(".blog_info-wrapper, .page-info-wrapper",{lag:.1}),e.effects(".intro-text",{lag:.05});let a=gsap.utils.pipe(gsap.utils.clamp(-400,400),gsap.quickTo(".canvas_background._1","y",{ease:"circ.out"})),r=gsap.utils.pipe(gsap.utils.clamp(-150,150),gsap.quickTo(".canvas_background._2","y",{duration:1,ease:"circ.out"})),i=gsap.utils.pipe(gsap.utils.clamp(-300,300),gsap.quickTo(".canvas_background._3","y",{duration:2,ease:"circ.out"})),o=gsap.utils.pipe(gsap.quickTo(".canvas_background._4","background-position-y",{duration:6,ease:"circ.out"}));ScrollTrigger.create({trigger:"main",start:"top top",end:"bottom bottom",onUpdate:e=>o(e.scroll()/100)})});var a=location.href.replace(/(\?.*)$/,"").split("/").slice(3);$(".breadcrumb_wrapper").empty(),$(".breadcrumb_wrapper").append('<a class="breadcrumb_link" href="/">Home</a><span class="breadcrumb_spacer">//</span>');for(var r=0;r<a.length-1;r++){var i=a[r],o=i.toLowerCase();o=i.charAt(0).toUpperCase()+i.slice(1);var n="/"+a.slice(0,r+1).join("/");$(".breadcrumb_wrapper").append('<a class="breadcrumb_link" href="'+n+'">'+o.replace(/\.(htm[l]?|asp[x]?|php|jsp)$/,"")+'</a><span class="breadcrumb_spacer">//</span>')}var c=new SplitText(".breadcrumb_wrapper, breadcrumb_wrapper-custom",{type:"chars,words,lines",position:"absolute"});gsap.timeline({defaults:{duration:.2,ease:"expo.inOut"}}).from(c.chars,{stagger:{each:.1,ease:"power2.in"},scrambleText:{chars:"&"}}),$("img").on("mouseenter mouseleave",function(){$(this).closest(".img-wrapper").toggleClass("zoom")});var s=$(".intro-text.is-filter").text(),l=new URLSearchParams(window.location.search);if(l.has("category")){var u,p=$(".category-name:contains("+l.get("category")+")").siblings(".category-description").children("p").text();gsap.timeline().to(".intro-text.is-filter",{text:"",duration:1,ease:"power3.out"}).to(".intro-text.is-filter",{text:p,duration:1,ease:"power3.out"})}$(".filter-form").on("click",function(){setTimeout(function(){var e=new URLSearchParams(window.location.search);if(e.has("category"))var t=e.get("category"),a=$(".category-name:contains("+t+")").siblings(".category-description").children("p").text();else a=s;gsap.timeline().to(".intro-text.is-filter",{text:"",duration:.5,ease:"power4.in"}).to(".intro-text.is-filter",{text:a,duration:1.3,ease:"custom"})},100),setTimeout(function(){ScrollTrigger.refresh()},500)}),setTimeout(function(){ScrollTrigger.refresh()},500)}),$("*").on("click touch",e=>{$("#cursor_hit").css({transform:"translate("+e.clientX+"px, "+e.clientY+"px)"})});let o=$(".cursor_part-wrapper.small"),n=$(".cursor_part-wrapper.big"),c=gsap.quickTo(o,"x",{duration:.1,ease:"power3"}),s=gsap.quickTo(o,"y",{duration:.1,ease:"power3"}),l=gsap.quickTo(n,"x",{duration:.3,ease:"power3"}),u=gsap.quickTo(n,"y",{duration:.3,ease:"power3"});window.onmousemove=e=>{let t=e.target.closest("a, .filter_item-label"),a=null!==t,r=a?t.offsetWidth+12:"0.5rem",i=a?t.offsetHeight+12:"0.5rem",o=a?"-1":"999";$(".cursor_part.big").css({width:r,height:i}),$(n).css("zIndex",o);var p=e.clientX,m=e.clientY;if(a)var f=t.getBoundingClientRect();c(p),s(m),l(a?((f.left+t.offsetWidth/2+p)/2+f.left+t.offsetWidth/2)/2:p),u(a?((f.top+t.offsetHeight/2+m)/2+f.top+t.offsetHeight/2)/2:m)}}
